{"version":3,"sources":["ether.svg","RewardToken.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","netToAddress","web3","Web3","givenProvider","address","a","eth","net","getNetworkType","netId","undefined","alert","contract","Contract","abi","ctr","options","gas","JavascriptTimeAgo","addLocale","en","ru","exampleRewardPoints","App","props","state","web3Ready","durationMinutes","rubyToEther","totalSupplyUsd","totalSupply","totalBankUsd","totalBank","balanceEther","examples","challenges","myBalanceRuby","myBalanceUsd","inputSell","inputURL","inputBot","inputBotAuth","ceo","user","rules","settings","ceoDurationMinutes","ceoServiceCostsOn","ceoTimeoutMinutes","ceoWeiPerToken","ceoMinBankForChallenge","window","this","onCompleted","bind","addEventListener","initWeb3","evt","setState","target","value","parsed","toLowerCase","match","length","group","postId","resourceId","parseInt","isNaN","methods","newChallenge","t","transact","sell","i","points","Number","BigInt","rewardForPoints","call","reward","push","views","rubys","ether","usd","getAccounts","accounts","duration","weiPerToken","utils","fromWei","toString","balanceOf","userBalance","toFixed","minBankForChallenge","serviceCostsEnabled","requestTimeout","self","loadChallenges","loadExamples","isCEO","loadRules","numberOfRules","getRule","r","threshold","rewardForPoint","console","log","JSON","stringify","rulesLoaded","start","end","Col","md","span","offset","Card","ListGroup","variant","Item","slice","map","exampleCardItemUI","key","status","error","id","UncontrolledTooltip","placement","numChallenges","data","timestamp","createdAt","confirmedAt","time","resource","before","pointsBefore","after","pointsAfter","requestAccounts","updateContract","allowance","allowedSell","Alert","href","style","height","Jumbotron","InputGroup","className","FormControl","disabled","placeholder","aria-label","onChange","updateInputURL","Append","Button","onClick","src","etherLogo","title","alt","viewport","width","example","ETH","Row","examplesCardColumn","Table","striped","bordered","hover","size","challenge","statusAndTip","ReactTimeAgo","date","Date","locale","Badge","allowedSellUsd","Prepend","Text","updateInputSell","unshift","index","splice","val","addRule","rule","removeRule","changeRule","ceoUpdateRules","Checkbox","checked","ceoSetBot","maxLength","ceoUpdate","payload","ceoAuthBots","auth","bots","setData","gasPrice","estimateGas","from","to","estimatedGas","transaction","send","err","txHash","fontSize","color","tooltipsUI","newChallengeUI","statusUI","tableUI","sellUI","quotesUI","footerUI","ceoUI","React","Component","Boolean","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.4c3d019d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ether.a7b9547a.svg\";","\r\nimport Web3 from 'web3';\r\n\r\nexport const usdToEther = 0.0044;\r\nexport const etherToUsd = 228.28;\r\n\r\nconst netToAddress = {\r\n\t'rinkeby': '0x4be4ae818F14AC7E1B881D7e17bACE58e4CE510C',\r\n};\r\n\r\nexport const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\r\n\r\nexport async function address() {\r\n\tlet netId = await web3.eth.net.getNetworkType();\r\n\r\n\tif(netToAddress[netId] == undefined) {\r\n\t\talert(\"Текущая сеть партнеркой неподдерживается: \" + netId);\r\n\t\tthrow \"Unsupported net \" + netId;\r\n\t}\r\n\r\n\treturn netToAddress[netId];\r\n}\r\n\r\nexport async function contract() {\r\n   let ctr = new web3.eth.Contract(abi, await address());\r\n   ctr.options.gas = 5000000;\r\n\r\n   return ctr;\r\n}\r\n\r\nconst abi = [\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_weiPerToken\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_minBankForChallenge\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_rewardForPoint\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_duration\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_requestTimeout\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"_serviceCostsEnabled\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"constructor\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_spender\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Approval\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_user\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"_group\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ChallengeRequest\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"enum RewardToken.ChallengeStatus\",\r\n\t\t\t\t\"name\": \"_status\",\r\n\t\t\t\t\"type\": \"uint8\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_reward\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ChallengeUpdate\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Transfer\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"fallback\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_spender\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"allowance\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"remaining\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_spender\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"approve\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"success\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"balanceOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"balance\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"pointsBefore\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"botConfirmChallenge\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"error\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"botFailChallenge\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"pointsAfter\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"botFinishChallenge\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"bots\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"buy\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"ceo\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"auth\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address[]\",\r\n\t\t\t\t\"name\": \"_bots\",\r\n\t\t\t\t\"type\": \"address[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ceoAuthBots\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"user\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"amountTokens\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ceoRewardFromBank\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_minBankForChallenge\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_duration\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_weiPerToken\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_requestTimeout\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"_serviceCostsEnabled\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ceoUpdate\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256[]\",\r\n\t\t\t\t\"name\": \"_rules\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ceoUpdateRules\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"challenges\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"user\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"createdAt\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint32\",\r\n\t\t\t\t\"name\": \"flags\",\r\n\t\t\t\t\"type\": \"uint32\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"group\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint32\",\r\n\t\t\t\t\"name\": \"resource\",\r\n\t\t\t\t\"type\": \"uint32\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"components\": [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"confirmedAt\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"finishedAt\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"enum RewardToken.ChallengeStatus\",\r\n\t\t\t\t\t\t\"name\": \"status\",\r\n\t\t\t\t\t\t\"type\": \"uint8\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"pointsBefore\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"pointsAfter\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\t\t\"name\": \"error\",\r\n\t\t\t\t\t\t\"type\": \"string\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"reward\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"etherCostService\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t\"internalType\": \"struct RewardToken.ChallengeData\",\r\n\t\t\t\t\"name\": \"data\",\r\n\t\t\t\t\"type\": \"tuple\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"userEtherCost\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"a\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"b\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"compareStrings\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"pure\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"decimals\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint8\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint8\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"deposit\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"donations\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"duration\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"etherCostService\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"etherUserCompensation\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_ruleNumber\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getRule\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"threshold\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"rewardForPoint\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"groups\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"user\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"hasActiveChallenge\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"minBankForChallenge\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"name\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"group\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint32\",\r\n\t\t\t\t\"name\": \"resource\",\r\n\t\t\t\t\"type\": \"uint32\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint32\",\r\n\t\t\t\t\"name\": \"flags\",\r\n\t\t\t\t\"type\": \"uint32\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"newChallenge\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"numChallenges\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"numberOfRules\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"requestTimeout\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"points\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"rewardForPoints\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"rules\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"requestTokens\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"sell\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"serviceCostsEnabled\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"symbol\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalBank\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"bank\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalOwnedTokens\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalSupply\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"supply\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transfer\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"success\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferFrom\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"success\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"userChallenge\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"version\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"weiPerToken\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"receive\"\r\n\t}\r\n];\r\n","/* global BigInt */\r\n\r\nimport React from 'react';\r\nimport './App.css';\r\nimport { InputGroup, FormControl, Jumbotron, Button, Alert, Row, Col, Table, Card, ListGroup, Badge } from 'react-bootstrap';\r\nimport { UncontrolledTooltip } from 'reactstrap';\r\nimport { web3, contract, usdToEther, etherToUsd } from './RewardToken.jsx';\r\nimport Web3 from 'web3';\r\nimport etherLogo from'./ether.svg';\r\nimport JavascriptTimeAgo from 'javascript-time-ago';\r\nimport ReactTimeAgo from 'react-time-ago';\r\n\r\nimport en from 'javascript-time-ago/locale/en';\r\nimport ru from 'javascript-time-ago/locale/ru';\r\n\r\nJavascriptTimeAgo.addLocale(en);\r\nJavascriptTimeAgo.addLocale(ru);\r\n\r\nconst exampleRewardPoints = [ 15, 50, 100, 300, 450, 800, 1000, 15000 ];\r\nconst CHALLENGE_FLAGS_DEFAULT = 256;\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n        contract: null,\r\n        web3Ready: false,\r\n\r\n        durationMinutes: 500,\r\n        rubyToEther: 0,\r\n        totalSupplyUsd: 0,\r\n        totalSupply: 0,\r\n        totalBankUsd: 0,\r\n        totalBank: 0,\r\n        balanceEther: 0,\r\n\r\n        examples: [],\r\n        challenges: [],\r\n\r\n        myBalanceRuby: 0,\r\n        myBalanceUsd: 0,\r\n\r\n        inputSell: \"\",\r\n        inputURL: \"\",\r\n        inputBot: \"\",\r\n        inputBotAuth: false,\r\n\r\n        ceo: \"\",\r\n        user: \"\",\r\n        rules: [],\r\n        settings: {\r\n            ceoDurationMinutes: 500,\r\n            ceoServiceCostsOn: 1,\r\n            ceoTimeoutMinutes: 10,\r\n            ceoWeiPerToken: 10000,\r\n            ceoMinBankForChallenge: 15,\r\n        },\r\n    };\r\n  }\r\n\r\n   async componentDidMount() {\r\n        window.addEventListener('load', await this.onCompleted.bind(this));\r\n     }\r\n\r\n     async onCompleted() {\r\n         await this.initWeb3();\r\n     }\r\n\r\n  updateInputSell(evt) {\r\n    this.setState({\r\n      inputSell: evt.target.value\r\n    });\r\n}\r\n\r\n    updateInputURL(evt) {\r\n      this.setState({\r\n        inputURL: evt.target.value\r\n      });\r\n    }\r\n\r\n  async newChallenge() {\r\n      if (this.state.inputURL == \"\") {\r\n          return;\r\n      }\r\n\r\n      let parsed = this.state.inputURL.toLowerCase().match(/([^\\/\\?]+)/g);\r\n      if (parsed.length != 4 || parsed[0] != \"https:\" || parsed[1] != \"t.me\") {\r\n          alert(\"Invalid URL\");\r\n          return;\r\n      }\r\n\r\n      let [_1, _2, group, postId] = parsed;\r\n      if (group.length < 4 || group.length > 32) {\r\n          alert(\"Invalid URL (invalid group)\");\r\n          return;\r\n      }\r\n\r\n      let resourceId = parseInt(postId, 10);\r\n\r\n      if (isNaN(resourceId)) {\r\n          alert(\"Invalid URL (invalid post id)\");\r\n          return;\r\n      }\r\n\r\n      let ctr = await contract();\r\n      let t = await ctr.methods.newChallenge(group, resourceId, CHALLENGE_FLAGS_DEFAULT);\r\n      await this.transact(ctr, t);\r\n\r\n      this.setState({\r\n          inputURL: \"\"\r\n      });\r\n  }\r\n\r\n    async sell() {\r\n      let ctr = await contract();\r\n      let t = ctr.methods.sell(this.state.inputSell);\r\n      await this.transact(ctr, t);\r\n      this.setState({\r\n          inputURL: \"\"\r\n      });\r\n    }\r\n\r\n  async loadExamples(ctr) {\r\n      var examples = [];\r\n\r\n      for(var i = 0; i < exampleRewardPoints.length; i++) {\r\n          let points = exampleRewardPoints[i];\r\n          let reward = Number(BigInt(await ctr.methods.rewardForPoints(points).call()));\r\n          examples.push({\r\n              views: points,\r\n              rubys: reward,\r\n              ether: reward * this.state.rubyToEther,\r\n              usd: reward * this.state.rubyToEther * etherToUsd,\r\n          });\r\n      }\r\n\r\n      this.setState({\r\n          examples: examples,\r\n      });\r\n  }\r\n\r\n  async updateContract() {\r\n      let ctr = await contract();\r\n      let accounts = await web3.eth.getAccounts();\r\n      let user = accounts[0];\r\n\r\n      let duration = Number(await ctr.methods.duration().call()) / 60;\r\n\r\n      let weiPerToken = BigInt(await ctr.methods.weiPerToken().call());\r\n      let totalSupply = BigInt(await ctr.methods.totalSupply().call());\r\n\r\n      let rubyToEther = Number(Web3.utils.fromWei(weiPerToken.toString(), 'ether'));\r\n\r\n      let balanceEther = rubyToEther * Number(totalSupply);\r\n\r\n      let userBalance = Number(BigInt(await ctr.methods.balanceOf(user).call()));\r\n      let userBalanceEther = (userBalance * rubyToEther).toFixed();\r\n\r\n      let ceo = await ctr.methods.ceo().call();\r\n      let minBankForChallenge = Number(await ctr.methods.minBankForChallenge().call());\r\n      let serviceCostsEnabled = Number(await ctr.methods.serviceCostsEnabled().call());\r\n      let requestTimeout = Number(await ctr.methods.requestTimeout().call());\r\n\r\n      var totalBank = BigInt(await ctr.methods.totalBank().call());\r\n      if(totalBank > 0) {\r\n          totalBank = Number(totalBank);\r\n      } else {\r\n          totalBank = 0;\r\n      }\r\n\r\n      let self = this;\r\n      this.setState({\r\n          web3Ready: true,\r\n          user: user,\r\n          ceo: ceo,\r\n          balanceEther: balanceEther,\r\n          durationMinutes: Number(duration),\r\n          rubyToEther: rubyToEther,\r\n          totalSupply: Number(totalSupply),\r\n          totalSupplyUsd: Number(totalSupply) * rubyToEther * etherToUsd,\r\n          totalBank: totalBank,\r\n          totalBankUsd: totalBank * rubyToEther * etherToUsd,\r\n          myBalanceRuby: userBalance,\r\n          myBalanceUsd: userBalance * rubyToEther * etherToUsd,\r\n          settings: {\r\n              ceoDurationMinutes: Number(duration),\r\n              ceoMinBankForChallenge: Number(minBankForChallenge),\r\n              ceoServiceCostsOn: serviceCostsEnabled,\r\n              ceoWeiPerToken: Number(weiPerToken),\r\n              ceoTimeoutMinutes: Number(requestTimeout / 60),\r\n          },\r\n          inputBot: ceo,\r\n      }, async () => {\r\n           await self.loadChallenges(ctr);\r\n           await self.loadExamples(ctr);\r\n\r\n           if (self.isCEO())\r\n               await self.loadRules(ctr);\r\n      });\r\n\r\n      return ctr;\r\n  }\r\n\r\n  async loadRules(ctr) {\r\n      let rules = [];\r\n\r\n      let numberOfRules = Number(await ctr.methods.numberOfRules().call());\r\n\r\n      for (var i = 0; i < numberOfRules; i++) {\r\n          let r = await ctr.methods.getRule(i).call();\r\n          rules.push({\r\n              threshold:        Number(r[0]),\r\n              rewardForPoint:   Number(r[1]),\r\n          });\r\n      }\r\n\r\n      console.log(JSON.stringify({rulesLoaded: rules}));\r\n\r\n      this.setState({\r\n          rules: rules,\r\n      });\r\n  }\r\n\r\n  examplesCardColumn(start, end) {\r\n      return (<Col md={{ span: 5, offset: start % 4 != 0 ? 0 : 1 }}>\r\n          <Card>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>\r\n                    {this.state.examples.slice(start, end).map(this.exampleCardItemUI.bind(this))}\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Card>\r\n      </Col>);\r\n  }\r\n\r\n  statusAndTip(key, status, error) {\r\n      switch (parseInt(status, 10)) {\r\n          case 1:\r\n            return (<span id={\"statustip-\"+key}>\r\n                Не подтверждена ﹖\r\n                <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n      Подождите, пока бот получит информацию о посте и подтвердит кампанию.\r\n    </UncontrolledTooltip>\r\n            </span>);\r\n            case 2:\r\n              return (<span id={\"statustip-\"+key}>\r\n                  <strong>Запущена</strong> ﹖\r\n                  <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n        Верифицирована ботом. Начальное количество хитов зафиксировано. Теперь необходимо провести кампанию до истечния срока.\r\n      </UncontrolledTooltip>\r\n              </span>);\r\n          case 3:\r\n            return (<span id={\"statustip-\"+key}>\r\n                Завершена ﹖\r\n                <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n      Подошла к концу, количество долитых просмотров зафиксировано, награда была начислена на баланс создателя кампании.\r\n    </UncontrolledTooltip>\r\n            </span>);\r\n        case 4:\r\n          return (<span id={\"statustip-\"+key}>\r\n              Ошибка ﹖\r\n              <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n    Произошла ошибка и кампания была прервана. Награда не будет начислена.\r\n    Бот передал: <code>{error}</code>\r\n  </UncontrolledTooltip>\r\n          </span>);\r\n      case 5:\r\n        return (<span id={\"statustip-\"+key}>\r\n            Тайм-аут ﹖\r\n            <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\nОтмечена как неудавшаяся из-за отсутстия реакции со стороны бота в понятные рамки.\r\n</UncontrolledTooltip>\r\n        </span>);\r\n          default: // STATUS_INVALID, etc\r\n            return (<span id={\"statustip-\"+key}>\r\n                !UNKNOWN! ﹖\r\n                <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n      Этот статус не должен быть появится в нормальных условиях\r\n    </UncontrolledTooltip>\r\n            </span>);\r\n      }\r\n  }\r\n\r\n  async loadChallenges(ctr) {\r\n    let numChallenges = Number(await ctr.methods.numChallenges().call());\r\n\r\n    let challenges = [];\r\n\r\n      for (var i = numChallenges - 1; i > numChallenges - 10 && i >= 0; i--) {\r\n            let data = await ctr.methods.challenges(i).call();\r\n\r\n            var timestamp = Number(data.createdAt);\r\n            if (data.data.status == 2) {\r\n                timestamp = Number(data.data.confirmedAt) + this.state.durationMinutes * 60;\r\n            }\r\n\r\n            challenges.push({\r\n                time: timestamp,\r\n                resource: Number(data.resource),\r\n                group: data.group,\r\n                status: Number(data.data.status),\r\n                reward: Number(data.data.reward),\r\n                before: Number(data.data.pointsBefore),\r\n                after: Number(data.data.pointsAfter),\r\n                error: data.data.error,\r\n            });\r\n      }\r\n\r\n      this.setState({\r\n          challenges: challenges\r\n      });\r\n  }\r\n\r\n  async initWeb3() {\r\n      let accounts = await web3.eth.requestAccounts();\r\n      if(accounts.length == 0) {\r\n          alert('Не вижу аккаунты Ethereum!');\r\n          return;\r\n      }\r\n\r\n      await this.updateContract();\r\n  }\r\n\r\n  allowedSell() {\r\n      let allowance = this.state.balanceEther\r\n      let ether = this.state.myBalanceRuby * this.state.rubyToEther;\r\n      if (ether > allowance) {\r\n          return (allowance / this.state.rubyToEther).toFixed(0);\r\n      }\r\n      return this.state.myBalanceRuby;\r\n  }\r\n\r\n  allowedSellUsd() {\r\n      let allowanceRubys = this.allowedSell();\r\n      return allowanceRubys * this.state.rubyToEther * etherToUsd;\r\n  }\r\n\r\n  tooltipsUI() {\r\n      return (<div>\r\n\r\n      <Alert variant=\"warning\">\r\n        Поддерживаются браузеры Chrome или Firefox на десктопе\r\n      </Alert>\r\n      <Alert variant=\"info\">\r\n        Для пользования смарт-контрактами в браузере необходимо расширение <a href=\"https://metamask.io\" target=\"_blank\"><strong>Metamask</strong></a>\r\n      </Alert>\r\n\r\n      <div style={{height: '24px'}}></div>\r\n      </div>)\r\n  }\r\n\r\n\r\n  newChallengeUI() {\r\n      return (<Jumbotron>\r\n\r\n          <h3>Начать кампанию по посту</h3>\r\n\r\n          <InputGroup className=\"mb-3\">\r\n\r\n          <FormControl\r\n            disabled={!this.state.web3Ready}\r\n            placeholder=\"https://t.me/channel/123\"\r\n            aria-label=\"Telegram post URL\"\r\n            value={this.state.inputURL}\r\n            onChange={evt => this.updateInputURL(evt)}\r\n          />\r\n\r\n          <InputGroup.Append>\r\n            <Button variant=\"primary\" id=\"basic-addon2\" disabled={!this.state.web3Ready} onClick={this.newChallenge.bind(this)}>New Challenge</Button>\r\n          </InputGroup.Append>\r\n          </InputGroup>\r\n\r\n          </Jumbotron>);\r\n  }\r\n\r\n  statusUI() {\r\n      return (<div>\r\n          <div style={{height: '24px'}}></div>\r\n\r\n          <h3>Состояние контракта</h3>\r\n\r\n              <div style={{height: '7px'}}></div>\r\n\r\n              <Card>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>Общий банк ~ <strong>${this.state.totalSupplyUsd.toFixed(0)}</strong> (💎{this.state.totalSupply})</ListGroup.Item>\r\n                  <ListGroup.Item>Свободный банк ~ <strong>${this.state.totalBankUsd.toFixed(0)}</strong> (💎{this.state.totalBank})</ListGroup.Item>\r\n                </ListGroup>\r\n              </Card>\r\n      </div>)\r\n  }\r\n\r\n  ETH() {\r\n      return (<img src={etherLogo} title=\"Ethereum (ETH)\" alt=\"ETH\" viewport=\"0 0 16 16\" style={{width: 16, height: 16}}/>);\r\n  }\r\n\r\n  exampleCardItemUI(example, i) {\r\n      return (<div key={i}>\r\n\r\n          &nbsp;&nbsp;&nbsp;&nbsp;за {example.views} просмотров:<br/>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;💎 {example.rubys}<br/>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;{this.ETH()} <strong>{example.ether}</strong><br/>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;~&nbsp;<strong>${example.usd.toFixed(4)}</strong><br/><br/>\r\n          </div>);\r\n  }\r\n\r\n  quotesUI() {\r\n      return (<div>\r\n\r\n          <div style={{height: '24px'}}></div>\r\n\r\n          <Row>\r\n            <Col md={{span: 10, offset: 1}}>\r\n            <h3>Калькулятор</h3>\r\n                <p>&nbsp;&nbsp;&nbsp;&nbsp;$1&nbsp;=&nbsp;{this.ETH()} {usdToEther} (💎{usdToEther / this.state.rubyToEther})<br/><br/></p>\r\n            </Col>\r\n          </Row>\r\n\r\n                    <Alert id=\"calculator\">\r\n                                        Награда вычисляется на основе добавленных просмотров за время работы кампании.\r\n                                        Посмотрите реальные расчеты по некоторым конкретным результатам кампаний:\r\n\r\n                                        <UncontrolledTooltip target=\"calculator\">\r\n\r\n                                            У вознаграждений есть коэффициент, меняющийся с ростом просмотров\r\n                                            для предотвращения неэффективного расхода бюджета партнерки (банка).\r\n                                        </UncontrolledTooltip>\r\n                                        </Alert>\r\n\r\n          <div style={{height: '7px'}}></div>\r\n\r\n          <Row>\r\n\r\n              {this.examplesCardColumn(0, 2)}\r\n              {this.examplesCardColumn(2, 4)}\r\n\r\n          </Row>\r\n\r\n            <Row style={{height: '14px'}}></Row>\r\n\r\n          <Row>\r\n              {this.examplesCardColumn(4, 6)}\r\n              {this.examplesCardColumn(6, 8)}\r\n          </Row>\r\n\r\n      </div>)\r\n  }\r\n\r\n  tableUI() {\r\n      return (<Row>\r\n      <Col md={{ span: 10, offset: 1 }}>\r\n      <h2>Последние кампании</h2>\r\n\r\n          <Button variant=\"success\" onClick={this.updateContract.bind(this)} disabled={!this.state.web3Ready}>обновить</Button>\r\n\r\n          <div style={{height: '7px'}}></div>\r\n\r\n              <Table striped bordered hover size=\"sm\">\r\n                  <thead>\r\n                  <tr>\r\n                    <th>Статус</th>\r\n                    <th>Канал</th>\r\n                    <th>Пост</th>\r\n                    <th>Время</th>\r\n                    <th>До / после</th>\r\n                    <th>Награда</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  {this.state.challenges.map((challenge, i) => {\r\n                  // Return the element. Also pass key\r\n                  return (<tr key={i}>\r\n                    <td>{this.statusAndTip(i, challenge.status, challenge.error)}</td>\r\n                    <td>{challenge.group}</td>\r\n                    <td>{challenge.resource}</td>\r\n                    <td><ReactTimeAgo date={new Date(challenge.time*1000)} locale=\"ru\" /></td>\r\n                    <td>\r\n                        {challenge.before} / {challenge.after}\r\n                    </td>\r\n                    <td>\r\n                        {challenge.status > 2\r\n                            ? (<span>💎{challenge.reward} <strong>~ ${(challenge.reward * this.state.rubyToEther * etherToUsd).toFixed(2)}</strong></span>)\r\n                            : null\r\n                        }\r\n                    </td>\r\n                  </tr>)\r\n                  })}\r\n                  </tbody>\r\n                  </Table>\r\n\r\n              { this.state.challenges.length == 0\r\n                  ? (<span>Нет недавних кампаний</span>)\r\n                  : null\r\n              }\r\n\r\n\r\n\r\n              { this.state.challenges.length > 10\r\n                  ? (<Button variant=\"success\" onClick={this.updateContract.bind(this)}>обновить</Button>)\r\n                  : null\r\n              }\r\n      </Col>\r\n      </Row>);\r\n  }\r\n\r\n  sellUI () {\r\n      return (<Row>\r\n      <Col md={6}>\r\n        <Jumbotron>\r\n      <h2>Вывести деньги</h2>\r\n                  <Card>\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item>Установлен курс, 💎 1 = <strong>{this.ETH()} {this.state.rubyToEther}</strong></ListGroup.Item>\r\n                      </ListGroup>\r\n                      <ListGroup.Item>\r\n                        Ваш баланс ~ <strong><Badge variant=\"info\">💎{this.state.myBalanceRuby}</Badge></strong> (${this.state.myBalanceUsd.toFixed(1)})\r\n                      </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      Доступно для вывода ~ <strong><Badge variant=\"success\">💎{this.allowedSell()}</Badge></strong> (${this.allowedSellUsd().toFixed(1)})\r\n                    </ListGroup.Item>\r\n                      </Card>\r\n\r\n\r\n          <div style={{height: '7px'}}></div>\r\n      <InputGroup className=\"mb-3\">\r\n        <InputGroup.Prepend>\r\n        Сколько выводим? &nbsp;&nbsp;\r\n          </InputGroup.Prepend>\r\n        <InputGroup.Prepend>\r\n          <InputGroup.Text>💎</InputGroup.Text>\r\n        </InputGroup.Prepend>\r\n        <FormControl aria-label=\"Вывести деньги (в рубинах)\" value={this.state.inputSell} onChange={evt => this.updateInputSell(evt)} disabled={!this.state.web3Ready} />\r\n        <InputGroup.Append>\r\n          <Button variant=\"primary\" onClick={this.sell.bind(this)} disabled={!this.state.web3Ready}>Sell</Button>\r\n        </InputGroup.Append>\r\n      </InputGroup>\r\n        </Jumbotron>\r\n      </Col>\r\n\r\n\r\n      <Col md={6}>\r\n      <Alert variant=\"secondary\">\r\n          <p>Для создания кампаний потребуется изначально закинуть немного {this.ETH()}  на своей кошелек\r\n          для оплаты расходов на <i>gas</i>.</p>\r\n\r\n          <p>Покупки на $4 должно хватить, что бы множество раз создавать кампании.</p>\r\n\r\n          <p>Купить эфир на кошелек можно с помощью кнопки <strong>Deposit</strong> в окне Metamask.</p>\r\n      </Alert>\r\n      <Alert variant=\"info\">\r\n          <p><i>\r\n              Смарт-контракт не может узнавать, сколько просмотров приросло к посту внутри Telegram, сам. </i></p>\r\n\r\n          <p>\r\n          Потому в облаке работает робот, который предоставляет смарт-контракту эти самые данные по просмотрам,\r\n          когда вы запускаете кампании.\r\n          </p>\r\n      </Alert>\r\n\r\n\r\n      </Col>\r\n\r\n      </Row>);\r\n  }\r\n\r\n  isCEO() {\r\n      return this.state.user == this.state.ceo && this.state.ceo.length > 10;\r\n  }\r\n\r\n  settings(key, value) {\r\n      this.state.settings[key] = value;\r\n      this.setState({\r\n          settings: this.state.settings,\r\n      });\r\n  }\r\n\r\n  addRule() {\r\n      let rules = this.state.rules;\r\n      rules.unshift({\r\n          threshold: \"\",\r\n          rewardForPoint: \"\",\r\n          group: \"\",\r\n      });\r\n      this.setState({\r\n          rules: rules,\r\n      });\r\n  }\r\n\r\n  async removeRule(index) {\r\n      let rules = this.state.rules;\r\n      rules.splice(index, 1);\r\n      this.setState({\r\n          rules: rules,\r\n      });\r\n  }\r\n\r\n  changeRule(index, key, val) {\r\n      let rules = this.state.rules;\r\n      rules[index][key] = val;\r\n      this.setState({\r\n          rules: rules,\r\n      });\r\n  }\r\n\r\n  ceoUI() {\r\n      return (<div>\r\n          <Row style={{height: '84px'}}></Row>\r\n\r\n          <Row>\r\n              <Col md={6}>\r\n                <h3>Reward Rules <span onClick={this.addRule.bind(this)}>➕</span></h3>\r\n\r\n                <Table striped bordered hover size=\"sm\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                      <th>Points Above</th>\r\n                      <th>Reward for point</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {this.state.rules.map((rule, i) => {\r\n                    return (<tr key={i}>\r\n                        <td>\r\n                                            <span onClick={() => this.removeRule(i)} title=\"Убрать строку правил\">➖</span>\r\n                            </td>\r\n                      <td>\r\n                          <FormControl\r\n                              placeholder=\"threshold\"\r\n                              aria-label=\"threshold\"\r\n                              value={rule.threshold}\r\n                              onChange={evt => this.changeRule(i, 'threshold', evt.target.value)}\r\n                            />\r\n                        </td>\r\n                      <td>\r\n                      <FormControl\r\n                          placeholder=\"rewardForPoint\"\r\n                          aria-label=\"rewardForPoint\"\r\n                          value={rule.rewardForPoint}\r\n                          onChange={evt => this.changeRule(i, 'rewardForPoint', evt.target.value)}\r\n                        />\r\n                      </td>\r\n                    </tr>)\r\n                    })}\r\n                    </tbody>\r\n                    </Table>\r\n\r\n\r\n                        <Button variant=\"danger\" id=\"basic-addon2\" onClick={this.ceoUpdateRules.bind(this)}>Save rules</Button>\r\n\r\n              </Col>\r\n\r\n              <Col md={6}>\r\n                    <h3>Bot Authorization</h3>\r\n\r\n\r\n                    <InputGroup\r\n                    >\r\n\r\n                    <InputGroup.Checkbox\r\n                        id=\"bot-enabled\"\r\n                        aria-label=\"Authorize\"\r\n                        checked={this.state.inputBotAuth}\r\n                        onChange={evt => this.setState({inputBotAuth: evt.target.checked})}\r\n                     />\r\n\r\n                    <FormControl\r\n                        id=\"bot-addr\"\r\n                        placeholder=\"bot address\"\r\n                        aria-label=\"bot address\"\r\n                        value={this.state.inputBot}\r\n                        onChange={evt => this.setState({inputBot: evt.target.value})}\r\n                      />\r\n                      </InputGroup>\r\n\r\n                                            <p></p>\r\n                                                                  <p></p>\r\n\r\n                      <Button variant=\"danger\" id=\"basic-addon2\" onClick={this.ceoSetBot.bind(this)}>Change bot authorization</Button>\r\n\r\n                    </Col>\r\n\r\n\r\n          </Row>\r\n\r\n          <Row style={{height: '44px'}}></Row>\r\n\r\n        <Row>\r\n\r\n\r\n        <Col md={10}>\r\n          <h3>Settings</h3>\r\n\r\n          <Table striped bordered hover size=\"sm\">\r\n              <thead>\r\n              <tr>\r\n                <th>Duration Minutes</th>\r\n                <th>Min Bank For Challenge</th>\r\n                <th>Wei Per Token</th>\r\n                <th>Timeout Minutes</th>\r\n                <th>Service Costs Enabled</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr>\r\n              <td>\r\n                  <FormControl\r\n                      value={this.state.settings.ceoDurationMinutes}\r\n                      onChange={evt => this.settings('ceoDurationMinutes', evt.target.value)}\r\n                    />\r\n              </td>\r\n              <td>\r\n                  <FormControl\r\n                      value={this.state.settings.ceoMinBankForChallenge}\r\n                      onChange={evt => this.settings('ceoMinBankForChallenge', evt.target.value)}\r\n                    />\r\n              </td>\r\n              <td>\r\n                  <FormControl\r\n                      value={this.state.settings.ceoWeiPerToken}\r\n                      onChange={evt => this.settings('ceoWeiPerToken', evt.target.value)}\r\n                    />\r\n              </td>\r\n              <td>\r\n                  <FormControl\r\n                      value={this.state.settings.ceoTimeoutMinutes}\r\n                      onChange={evt => this.settings('ceoTimeoutMinutes', evt.target.value)}\r\n                    />\r\n              </td>\r\n              <td>\r\n                  <FormControl\r\n                      placeholder=\"1 /0\"\r\n                      aria-label=\"1 /0\"\r\n                      maxLength={1}\r\n                      value={this.state.settings.ceoServiceCostsOn}\r\n                      onChange={evt => this.settings('ceoServiceCostsOn', evt.target.value)}\r\n                    />\r\n              </td>\r\n              </tr>\r\n              </tbody>\r\n              </Table>\r\n\r\n                  <Button variant=\"danger\" id=\"basic-addon2\" onClick={this.ceoUpdate.bind(this)}>Update settings</Button>\r\n\r\n\r\n        </Col>\r\n        </Row>\r\n\r\n                          <Row style={{height: '84px'}}></Row>\r\n      </div>);\r\n  }\r\n\r\n  async ceoUpdateRules() {\r\n      let payload = [];\r\n      for(var i = 0; i < this.state.rules.length; i++) {\r\n          let r = this.state.rules[i];\r\n          payload.push(r.threshold);\r\n          payload.push(r.rewardForPoint);\r\n      }\r\n      let ctr = await contract();\r\n      let t = ctr.methods.ceoUpdateRules(payload);\r\n      await this.transact(ctr, t);\r\n  }\r\n\r\n  async ceoSetBot() {\r\n      console.log(JSON.stringify({\r\n          ceoAuthBots: {\r\n              auth: this.state.inputBotAuth,\r\n              bots: [this.state.inputBot],\r\n          }\r\n      }));\r\n      let ctr = await contract();\r\n      let t = ctr.methods.ceoAuthBots(this.state.inputBotAuth, [this.state.inputBot]);\r\n      await this.transact(ctr, t);\r\n  }\r\n\r\n  async transact(ctr, setData) {\r\n      var gasPrice = web3.eth.gasPrice;\r\n\r\n      await setData\r\n          .estimateGas(\r\n              {\r\n                  from: this.state.ceo,\r\n                  to: ctr.options.address,\r\n                  gasPrice: gasPrice\r\n              }, async (error, estimatedGas) => {\r\n\r\n                  console.log('gas Price: ' + gasPrice);\r\n                  console.log('Estimated Transaction gas: ' + estimatedGas);\r\n\r\n                  console.log ('sending Transaction to the contract');\r\n\r\n                  const transaction = {\r\n                    from: this.state.ceo,\r\n                    to: ctr.options.address,\r\n                    value: '0x00',\r\n                    gas: estimatedGas + 1,\r\n                    gasPrice: gasPrice + 1,\r\n                  }\r\n\r\n\r\n                  await setData.send( transaction, function(err, txHash) {\r\n                    if (err != null) {\r\n                           console.error(\"Error while sending transaction: \" + err);\r\n                         }\r\n                         else{\r\n                           console.log(\"Transaction Sent here's you  txHash: \" + txHash);\r\n                         }\r\n                  });\r\n\r\n      });\r\n  }\r\n\r\n  async ceoUpdate() {\r\n    let minBankForChallenge = this.state.settings.ceoMinBankForChallenge;\r\n    let duration = this.state.settings.ceoDurationMinutes * 60;\r\n    let weiPerToken = this.state.settings.ceoWeiPerToken;\r\n    let requestTimeout = this.state.settings.ceoTimeoutMinutes * 60;\r\n    let serviceCostsEnabled = (this.state.settings.ceoServiceCostsOn == \"1\");\r\n\r\n    let ctr = await contract();\r\n    let t = ctr.methods.ceoUpdate(minBankForChallenge, duration, weiPerToken, requestTimeout, serviceCostsEnabled);\r\n    await this.transact(ctr, t);\r\n  }\r\n\r\n  footerUI() {\r\n      return (<Row style={{fontSize: '14px'}}>\r\n\r\n      <Col md={6}>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>Код контракта опубликован <a href=\"https://github.com/crackhd/tg_partner_contract\">на Github</a></ListGroup.Item>\r\n                <ListGroup.Item>Код бота опубликован <a href=\"https://github.com/crackhd/tg_partner\">на Github</a></ListGroup.Item>\r\n                  <ListGroup.Item>Код этой странички опубликован <a href=\"https://github.com/crackhd/tg_partner_web\">на Github</a></ListGroup.Item>\r\n              </ListGroup>\r\n      </Col>\r\n\r\n          <Col md={6}>\r\n          <ul>\r\n          <li>Если вы создали кампанию и ничего не происходит, вы сможете получить компенсацию за потраченный с вашей стороны газ. Для этого можно отправить транзакцию Sell с суммой 0</li>\r\n          <li>один пользователь одновременно может выполнять лишь одну кампанию до ее завершения (либо до <code>Sell(0)</code>, если кампания повисла)</li>\r\n          </ul>\r\n          </Col>\r\n      </Row>);\r\n  }\r\n\r\n  render() {\r\n    return (<div className=\"App container\">\r\n    <Row style={{height: '58px'}}></Row>\r\n\r\n    <Row>\r\n      <Col md={6}>\r\n        <Jumbotron>\r\n          <h1>Партнерка</h1>\r\n          <p></p>\r\n          <p></p>\r\n          <p>\r\n            Здесь можно добавить свою <span className=\"dotted-ul\" id=\"campaigns\">рекламную кампанию</span> для автоматического\r\n            получения вознаграждения.\r\n          </p>\r\n\r\n\r\n          <UncontrolledTooltip target=\"campaigns\">\r\n            Вы можете получить вознаграждение в криптовалюте за <strong>просмотры</strong> к публикуемым постам.\r\n            Для этого, перед тем, как лить свои просмотры, нужно создать с помощью этого контракта \"челлендж\" к посту, указав URL.\r\n          </UncontrolledTooltip>\r\n\r\n          <div>\r\n              <p style={{color: 'gray'}}>\r\n                1⃣ Открываем <a href=\"https://crackhd.github.io/tg_partner_web\">страницу</a> смарт-контракта (<strong>готово!</strong>)\r\n              </p><p>\r\n                2⃣ Копируем ссылку на какой-нибудь пост в Telegram, которому мы хотим долить просмотров\r\n              </p><p>\r\n                3⃣ Вставляем ссылку в поле URL и жмем <Badge variant=\"primary\">New Challenge</Badge>\r\n              </p><p>\r\n                4⃣ В течении <strong>{this.state.durationMinutes}</strong> последующих минут просмотры поста считаются контрактом вашими, фиксируется вознаграждение в виде 💎\r\n              </p><p>\r\n                5⃣ Меняем 💎 на {this.ETH()}. Для этого на странице контракта есть кнопка <Badge variant=\"primary\">Sell</Badge>\r\n              </p>\r\n          </div>\r\n          <p style={{height:16}}></p>\r\n          <p>\r\n          <a href=\"https://academy.binance.com/ru/blockchain/what-are-smart-contracts\" target=\"_blank\">\r\n            <Button variant=\"info\">Как это работает?</Button>\r\n          </a>\r\n          </p>\r\n        </Jumbotron>\r\n        </Col>\r\n\r\n    <Col md={6}>\r\n\r\n        {this.tooltipsUI()}\r\n\r\n        { this.state.web3Ready\r\n            ? this.newChallengeUI()\r\n            : (<div>\r\n                <p><Button variant=\"success\" onClick={this.initWeb3.bind(this)}>Начать работу</Button></p>\r\n              </div>) }\r\n\r\n          { this.state.web3Ready\r\n              ? this.statusUI()\r\n              : null\r\n          }\r\n\r\n      </Col>\r\n\r\n    </Row>\r\n\r\n    { this.state.web3Ready\r\n        ? (<Row style={{height: '44px'}}></Row>)\r\n        : null\r\n    }\r\n\r\n    <Row style={{height: '54px'}}></Row>\r\n\r\n\r\n    { this.state.web3Ready\r\n        ? this.tableUI()\r\n        : null\r\n    }\r\n\r\n    <Row style={{height: '84px'}}></Row>\r\n\r\n    {\r\n        this.state.web3Ready\r\n            ? this.sellUI()\r\n            : null\r\n    }\r\n\r\n    <Row style={{height: '64px'}}></Row>\r\n\r\n    {\r\n        this.state.web3Ready\r\n            ? this.quotesUI()\r\n            : null\r\n    }\r\n\r\n    <Row style={{height: '84px'}}></Row>\r\n\r\n    {\r\n        this.state.web3Ready\r\n            ? this.footerUI()\r\n            : null\r\n    }\r\n\r\n    {\r\n        this.state.web3Ready && this.isCEO()\r\n            ? this.ceoUI()\r\n            : null\r\n    }\r\n\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}