{"version":3,"sources":["ether.svg","Reward.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","netToAddress","web3","Web3","givenProvider","address","a","eth","net","getNetworkType","netId","undefined","alert","contract","Contract","abi","ctr","options","gas","contractBalance","getBalance","call","JavascriptTimeAgo","addLocale","en","ru","exampleRewardPoints","App","props","state","web3Ready","durationMinutes","rubyToEther","totalSupplyUsd","totalSupply","totalBankUsd","totalBank","balanceEther","examples","challenges","myBalanceRuby","myBalanceUsd","inputSell","inputURL","inputBot","inputBotAuth","ceo","user","rules","settings","ceoDurationMinutes","ceoServiceCostsOn","ceoTimeoutMinutes","ceoWeiPerToken","ceoMinBankForChallenge","window","addEventListener","this","onCompleted","bind","getAccounts","then","updateContract","evt","setState","target","value","parsed","toLowerCase","match","length","group","postId","resourceId","parseInt","isNaN","requestAccounts","accounts","account","methods","newChallenge","send","from","gaslimit","t","sell","transact","i","points","Number","BigInt","rewardForPoints","reward","push","views","rubys","ether","usd","self","console","log","duration","weiPerToken","utils","fromWei","toString","balanceWei","balanceOf","userBalance","toFixed","minBankForChallenge","serviceCostsEnabled","requestTimeout","loadChallenges","loadExamples","isCEO","loadRules","numberOfRules","getRule","r","threshold","rewardForPoint","JSON","stringify","rulesLoaded","start","end","Col","md","span","offset","Card","ListGroup","variant","Item","slice","map","exampleCardItemUI","key","status","error","id","UncontrolledTooltip","placement","numChallenges","data","timestamp","createdAt","confirmedAt","time","resource","before","pointsBefore","after","pointsAfter","allowance","allowedSell","Alert","href","style","height","Jumbotron","InputGroup","className","FormControl","disabled","placeholder","aria-label","onChange","updateInputURL","Append","Button","onClick","src","etherLogo","title","alt","viewport","width","example","ETH","Row","examplesCardColumn","Table","striped","bordered","hover","size","challenge","statusAndTip","ReactTimeAgo","date","Date","locale","Badge","allowedSellUsd","Prepend","Text","updateInputSell","unshift","index","splice","val","addRule","rule","removeRule","changeRule","ceoUpdateRules","Checkbox","checked","ceoSetBot","maxLength","ceoUpdate","payload","ceoAuthBots","auth","bots","setData","gasPrice","estimateGas","to","estimatedGas","transaction","err","txHash","fontSize","color","tooltipsUI","newChallengeUI","initWeb3","statusUI","tableUI","sellUI","quotesUI","footerUI","ceoUI","React","Component","Boolean","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.5ce9dbba.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ether.a7b9547a.svg\";","\r\nimport Web3 from 'web3';\r\n\r\nexport const usdToEther = 0.0044;\r\nexport const etherToUsd = 228.28;\r\n\r\nconst netToAddress = {\r\n\t'rinkeby': '0x44654b94ce5d094cdbcf78011f924f54507e6fdf',\r\n};\r\n\r\nexport const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\r\n\r\nexport async function address() {\r\n\tlet netId = await web3.eth.net.getNetworkType();\r\n\r\n\tif(netToAddress[netId] == undefined) {\r\n\t\talert(\"Текущая сеть партнеркой неподдерживается: \" + netId);\r\n\t\tthrow \"Unsupported net \" + netId;\r\n\t}\r\n\r\n\treturn netToAddress[netId];\r\n}\r\n\r\nexport async function contract() {\r\n   let ctr = new web3.eth.Contract(abi, await address());\r\n   ctr.options.gas = 5000000;\r\n\r\n   return ctr;\r\n}\r\n\r\nexport async function contractBalance() {\r\n\treturn await web3.eth.getBalance(await address()).call();\r\n}\r\n\r\n\r\nexport const abi = [\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_weiPerToken\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_minBankForChallenge\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_rewardForPoint\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_duration\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_requestTimeout\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"_serviceCostsEnabled\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"constructor\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_spender\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Approval\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_user\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"_group\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ChallengeRequest\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"enum RewardToken.ChallengeStatus\",\r\n\t\t\t\t\"name\": \"_status\",\r\n\t\t\t\t\"type\": \"uint8\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_reward\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ChallengeUpdate\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Transfer\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"fallback\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_spender\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"allowance\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"remaining\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_spender\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"approve\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"success\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"balanceOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"balance\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"pointsBefore\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"botConfirmChallenge\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"error\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"botFailChallenge\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"pointsAfter\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"botFinishChallenge\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"bots\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"buy\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"ceo\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"auth\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address[]\",\r\n\t\t\t\t\"name\": \"_bots\",\r\n\t\t\t\t\"type\": \"address[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ceoAuthBots\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"user\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"amountTokens\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ceoRewardFromBank\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_minBankForChallenge\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_duration\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_weiPerToken\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_requestTimeout\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"_serviceCostsEnabled\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ceoUpdate\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256[]\",\r\n\t\t\t\t\"name\": \"_rules\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ceoUpdateRules\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"challenges\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"user\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"createdAt\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint32\",\r\n\t\t\t\t\"name\": \"flags\",\r\n\t\t\t\t\"type\": \"uint32\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"group\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint32\",\r\n\t\t\t\t\"name\": \"resource\",\r\n\t\t\t\t\"type\": \"uint32\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"components\": [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"confirmedAt\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"finishedAt\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"enum RewardToken.ChallengeStatus\",\r\n\t\t\t\t\t\t\"name\": \"status\",\r\n\t\t\t\t\t\t\"type\": \"uint8\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"pointsBefore\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"pointsAfter\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\t\t\"name\": \"error\",\r\n\t\t\t\t\t\t\"type\": \"string\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"reward\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\t\t\"name\": \"etherCostService\",\r\n\t\t\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t\"internalType\": \"struct RewardToken.ChallengeData\",\r\n\t\t\t\t\"name\": \"data\",\r\n\t\t\t\t\"type\": \"tuple\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"userEtherCost\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"a\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"b\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"compareStrings\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"pure\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"decimals\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint8\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint8\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"deposit\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"donations\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"duration\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"etherCostService\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"etherUserCompensation\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_ruleNumber\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getRule\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"threshold\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"rewardForPoint\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"groups\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"user\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"hasActiveChallenge\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"minBankForChallenge\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"name\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"group\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint32\",\r\n\t\t\t\t\"name\": \"resource\",\r\n\t\t\t\t\"type\": \"uint32\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint32\",\r\n\t\t\t\t\"name\": \"flags\",\r\n\t\t\t\t\"type\": \"uint32\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"newChallenge\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"numChallenges\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"numberOfRules\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"requestTimeout\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"points\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"rewardForPoints\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"rules\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"requestTokens\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"sell\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"serviceCostsEnabled\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"symbol\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalBank\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"bank\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalOwnedTokens\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalSupply\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"supply\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transfer\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"success\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"_value\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferFrom\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"bool\",\r\n\t\t\t\t\"name\": \"success\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"userChallenge\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"version\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"weiPerToken\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"receive\"\r\n\t}\r\n];\r\n","/* global BigInt */\r\n\r\nimport React from 'react';\r\nimport './App.css';\r\nimport { InputGroup, FormControl, Jumbotron, Button, Alert, Row, Col, Table, Card, ListGroup, Badge } from 'react-bootstrap';\r\nimport { UncontrolledTooltip } from 'reactstrap';\r\nimport { web3, contract, contractBalance, usdToEther, etherToUsd } from './Reward.jsx';\r\nimport Web3 from 'web3';\r\nimport etherLogo from'./ether.svg';\r\nimport JavascriptTimeAgo from 'javascript-time-ago';\r\nimport ReactTimeAgo from 'react-time-ago';\r\n\r\nimport en from 'javascript-time-ago/locale/en';\r\nimport ru from 'javascript-time-ago/locale/ru';\r\n\r\nJavascriptTimeAgo.addLocale(en);\r\nJavascriptTimeAgo.addLocale(ru);\r\n\r\nconst exampleRewardPoints = [ 15, 50, 100, 300, 450, 800, 1000, 15000 ];\r\nconst CHALLENGE_FLAGS_DEFAULT = 256;\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n        contract: null,\r\n        web3Ready: false,\r\n\r\n        durationMinutes: 500,\r\n        rubyToEther: 0,\r\n        totalSupplyUsd: 0,\r\n        totalSupply: 0,\r\n        totalBankUsd: 0,\r\n        totalBank: 0,\r\n        balanceEther: 0,\r\n\r\n        examples: [],\r\n        challenges: [],\r\n\r\n        myBalanceRuby: 0,\r\n        myBalanceUsd: 0,\r\n\r\n        inputSell: \"\",\r\n        inputURL: \"\",\r\n        inputBot: \"\",\r\n        inputBotAuth: false,\r\n\r\n        ceo: \"\",\r\n        user: \"\",\r\n        rules: [],\r\n        settings: {\r\n            ceoDurationMinutes: 500,\r\n            ceoServiceCostsOn: 1,\r\n            ceoTimeoutMinutes: 10,\r\n            ceoWeiPerToken: 10000,\r\n            ceoMinBankForChallenge: 15,\r\n        },\r\n    };\r\n  }\r\n\r\n   componentDidMount() {\r\n        window.addEventListener('load', this.onCompleted.bind(this));\r\n     }\r\n\r\n     onCompleted() {\r\n         web3.eth.getAccounts().then(this.updateContract.bind(this));\r\n     }\r\n\r\n  updateInputSell(evt) {\r\n    this.setState({\r\n      inputSell: evt.target.value\r\n    });\r\n}\r\n\r\n    updateInputURL(evt) {\r\n      this.setState({\r\n        inputURL: evt.target.value\r\n      });\r\n    }\r\n\r\n  async newChallenge() {\r\n      if (this.state.inputURL == \"\") {\r\n          return;\r\n      }\r\n\r\n      let parsed = this.state.inputURL.toLowerCase().match(/([^\\/\\?]+)/g);\r\n      if (parsed.length != 4 || parsed[0] != \"https:\" || parsed[1] != \"t.me\") {\r\n          alert(\"Invalid URL\");\r\n          return;\r\n      }\r\n\r\n      let [_1, _2, group, postId] = parsed;\r\n      if (group.length < 4 || group.length > 32) {\r\n          alert(\"Invalid URL (invalid group)\");\r\n          return;\r\n      }\r\n\r\n      let resourceId = parseInt(postId, 10);\r\n\r\n      if (isNaN(resourceId)) {\r\n          alert(\"Invalid URL (invalid post id)\");\r\n          return;\r\n      }\r\n\r\n      let ctr = await contract();\r\n      let self = this;\r\n\r\n      let accounts = await web3.eth.requestAccounts();\r\n\r\n      if(accounts.length == 0) {\r\n          alert('Не вижу аккаунты Ethereum!');\r\n          return;\r\n      }\r\n      let account = accounts[0];\r\n      await ctr.methods.newChallenge(group, resourceId, CHALLENGE_FLAGS_DEFAULT).send({from: account, value: 0, gaslimit: 100000});\r\n      this.setState({\r\n          inputURL: \"\"\r\n      });\r\n  }\r\n\r\n    async sell() {\r\n      let accounts = await web3.eth.requestAccounts();\r\n      if(accounts.length == 0) {\r\n          alert('Не вижу аккаунты Ethereum!');\r\n          return;\r\n      }\r\n      let account = accounts[0];\r\n      let ctr = await contract();\r\n      let t = ctr.methods.sell(this.state.inputSell);\r\n      await this.transact(ctr, t);\r\n      this.setState({\r\n          inputURL: \"\"\r\n      });\r\n    }\r\n\r\n  async loadExamples() {\r\n      var examples = [];\r\n\r\n      let ctr = await contract();\r\n\r\n      for(var i = 0; i < exampleRewardPoints.length; i++) {\r\n          let points = exampleRewardPoints[i];\r\n          let reward = Number(BigInt(await ctr.methods.rewardForPoints(points).call()));\r\n          examples.push({\r\n              views: points,\r\n              rubys: reward,\r\n              ether: reward * this.state.rubyToEther,\r\n              usd: reward * this.state.rubyToEther * etherToUsd,\r\n          });\r\n      }\r\n\r\n      this.setState({\r\n          examples: examples,\r\n      });\r\n  }\r\n\r\n  async updateContract() {\r\n\r\n      let self = this;\r\n      let accounts = await web3.eth.getAccounts();\r\n\r\n      if(accounts.length == 0) {\r\n          console.log('Не вижу аккаунты Ethereum!');\r\n          return\r\n      }\r\n\r\n      let ctr = await contract();\r\n\r\n      let duration = Number(await ctr.methods.duration().call()) / 60;\r\n      let weiPerToken = BigInt(await ctr.methods.weiPerToken().call());\r\n      let totalSupply = BigInt(await ctr.methods.totalSupply().call());\r\n\r\n      let rubyToEther = Number(Web3.utils.fromWei(weiPerToken.toString(), 'ether'));\r\n\r\n      let balanceWei = await contractBalance();\r\n      let balanceEther = Number(Web3.utils.fromWei(balanceWei.toString(), 'ether'));\r\n\r\n      let user = accounts[0];\r\n      let userBalance = Number(BigInt(await ctr.methods.balanceOf(user).call()));\r\n      let userBalanceEther = (userBalance * rubyToEther).toFixed();\r\n\r\n      let ceo = await ctr.methods.ceo().call();\r\n      let minBankForChallenge = Number(await ctr.methods.minBankForChallenge().call());\r\n      let serviceCostsEnabled = Number(await ctr.methods.serviceCostsEnabled().call());\r\n      let requestTimeout = Number(await ctr.methods.requestTimeout().call());\r\n\r\n      var totalBank = BigInt(await ctr.methods.totalBank().call());\r\n      if(totalBank > 0) {\r\n          totalBank = Number(totalBank);\r\n      } else {\r\n          totalBank = 0;\r\n      }\r\n\r\n      this.setState({\r\n          web3Ready: true,\r\n          user: user,\r\n          ceo: ceo,\r\n          balanceEther: balanceEther,\r\n          durationMinutes: Number(duration),\r\n          rubyToEther: rubyToEther,\r\n          totalSupply: Number(totalSupply),\r\n          totalSupplyUsd: Number(totalSupply) * rubyToEther * etherToUsd,\r\n          totalBank: totalBank,\r\n          totalBankUsd: totalBank * rubyToEther * etherToUsd,\r\n          myBalanceRuby: userBalance,\r\n          myBalanceUsd: userBalance * rubyToEther * etherToUsd,\r\n          settings: {\r\n              ceoDurationMinutes: Number(duration),\r\n              ceoMinBankForChallenge: Number(minBankForChallenge),\r\n              ceoServiceCostsOn: serviceCostsEnabled,\r\n              ceoWeiPerToken: Number(weiPerToken),\r\n              ceoTimeoutMinutes: Number(requestTimeout / 60),\r\n          },\r\n          inputBot: ceo,\r\n      }, async () => {\r\n           await self.loadChallenges();\r\n           self.loadExamples();\r\n\r\n           if (self.isCEO())\r\n               await self.loadRules();\r\n      })\r\n  }\r\n\r\n  async loadRules() {\r\n      let ctr = await contract();\r\n      let rules = [];\r\n\r\n      let numberOfRules = Number(await ctr.methods.numberOfRules().call());\r\n\r\n      for (var i = 0; i < numberOfRules; i++) {\r\n          let r = await ctr.methods.getRule(i).call();\r\n          rules.push({\r\n              threshold:        Number(r[0]),\r\n              rewardForPoint:   Number(r[1]),\r\n          });\r\n      }\r\n\r\n      console.log(JSON.stringify({rulesLoaded: rules}));\r\n\r\n      this.setState({\r\n          rules: rules,\r\n      });\r\n  }\r\n\r\n  examplesCardColumn(start, end) {\r\n      return (<Col md={{ span: 5, offset: start % 4 != 0 ? 0 : 1 }}>\r\n          <Card>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>\r\n                    {this.state.examples.slice(start, end).map(this.exampleCardItemUI.bind(this))}\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Card>\r\n      </Col>);\r\n  }\r\n\r\n  statusAndTip(key, status, error) {\r\n      switch (parseInt(status, 10)) {\r\n          case 1:\r\n            return (<span id={\"statustip-\"+key}>\r\n                Не подтверждена ﹖\r\n                <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n      Подождите, пока бот получит информацию о посте и подтвердит кампанию.\r\n    </UncontrolledTooltip>\r\n            </span>);\r\n            case 2:\r\n              return (<span id={\"statustip-\"+key}>\r\n                  <strong>Запущена</strong> ﹖\r\n                  <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n        Верифицирована ботом. Начальное количество хитов зафиксировано. Теперь необходимо провести кампанию до истечния срока.\r\n      </UncontrolledTooltip>\r\n              </span>);\r\n          case 3:\r\n            return (<span id={\"statustip-\"+key}>\r\n                Завершена ﹖\r\n                <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n      Подошла к концу, количество долитых просмотров зафиксировано, награда была начислена на баланс создателя кампании.\r\n    </UncontrolledTooltip>\r\n            </span>);\r\n        case 4:\r\n          return (<span id={\"statustip-\"+key}>\r\n              Ошибка ﹖\r\n              <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n    Произошла ошибка и кампания была прервана. Награда не будет начислена.\r\n    Бот передал: <code>{error}</code>\r\n  </UncontrolledTooltip>\r\n          </span>);\r\n      case 5:\r\n        return (<span id={\"statustip-\"+key}>\r\n            Тайм-аут ﹖\r\n            <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\nОтмечена как неудавшаяся из-за отсутстия реакции со стороны бота в понятные рамки.\r\n</UncontrolledTooltip>\r\n        </span>);\r\n          default: // STATUS_INVALID, etc\r\n            return (<span id={\"statustip-\"+key}>\r\n                !UNKNOWN! ﹖\r\n                <UncontrolledTooltip placement=\"right\" target={\"statustip-\"+key}>\r\n      Этот статус не должен быть появится в нормальных условиях\r\n    </UncontrolledTooltip>\r\n            </span>);\r\n      }\r\n  }\r\n\r\n  async loadChallenges() {\r\n    let ctr = await contract();\r\n    let numChallenges = Number(await ctr.methods.numChallenges().call());\r\n\r\n      let challenges = [];\r\n\r\n      for (var i = numChallenges - 1; i > numChallenges - 10 && i >= 0; i--) {\r\n            let data = await ctr.methods.challenges(i).call();\r\n\r\n            var timestamp = Number(data.createdAt);\r\n            if (data.data.status == 2) {\r\n                timestamp = Number(data.data.confirmedAt) + this.state.durationMinutes * 60;\r\n            }\r\n\r\n            challenges.push({\r\n                time: timestamp,\r\n                resource: Number(data.resource),\r\n                group: data.group,\r\n                status: Number(data.data.status),\r\n                reward: Number(data.data.reward),\r\n                before: Number(data.data.pointsBefore),\r\n                after: Number(data.data.pointsAfter),\r\n                error: data.data.error,\r\n            });\r\n      }\r\n\r\n      this.setState({\r\n          challenges: challenges\r\n      });\r\n  }\r\n\r\n  initWeb3() {\r\n      let self = this;\r\n      web3.eth.requestAccounts().then(function(accounts) {\r\n          if(accounts.length == 0) {\r\n              alert('Не вижу аккаунты Ethereum!');\r\n              return;\r\n          }\r\n\r\n          self.updateContract();\r\n      });\r\n  }\r\n\r\n  allowedSell() {\r\n      let allowance = this.state.balanceEther\r\n      let ether = this.state.myBalanceRuby * this.state.rubyToEther;\r\n      if (ether > allowance) {\r\n          return (allowance / this.state.rubyToEther).toFixed(0);\r\n      }\r\n      return this.state.myBalanceRuby;\r\n  }\r\n\r\n  allowedSellUsd() {\r\n      let allowanceRubys = this.allowedSell();\r\n      return allowanceRubys * this.state.rubyToEther * etherToUsd;\r\n  }\r\n\r\n  tooltipsUI() {\r\n      return (<div>\r\n\r\n      <Alert variant=\"warning\">\r\n        Поддерживаются браузеры Chrome или Firefox на десктопе\r\n      </Alert>\r\n      <Alert variant=\"info\">\r\n        Для пользования смарт-контрактами в браузере необходимо расширение <a href=\"https://metamask.io\" target=\"_blank\"><strong>Metamask</strong></a>\r\n      </Alert>\r\n\r\n      <div style={{height: '24px'}}></div>\r\n      </div>)\r\n  }\r\n\r\n\r\n  newChallengeUI() {\r\n      return (<Jumbotron>\r\n\r\n          <h3>Начать кампанию по посту</h3>\r\n\r\n          <InputGroup className=\"mb-3\">\r\n\r\n          <FormControl\r\n            disabled={!this.state.web3Ready}\r\n            placeholder=\"https://t.me/channel/123\"\r\n            aria-label=\"Telegram post URL\"\r\n            value={this.state.inputURL}\r\n            onChange={evt => this.updateInputURL(evt)}\r\n\r\n          />\r\n          <InputGroup.Append>\r\n            <Button variant=\"primary\" id=\"basic-addon2\" disabled={!this.state.web3Ready} onClick={this.newChallenge.bind(this)}>New Challenge</Button>\r\n          </InputGroup.Append>\r\n          </InputGroup>\r\n\r\n          </Jumbotron>);\r\n  }\r\n\r\n  statusUI() {\r\n      return (<div>\r\n          <div style={{height: '24px'}}></div>\r\n\r\n          <h3>Состояние контракта</h3>\r\n\r\n              <div style={{height: '7px'}}></div>\r\n\r\n              <Card>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>Общий банк ~ <strong>${this.state.totalSupplyUsd.toFixed(0)}</strong> (💎{this.state.totalSupply})</ListGroup.Item>\r\n                  <ListGroup.Item>Свободный банк ~ <strong>${this.state.totalBankUsd.toFixed(0)}</strong> (💎{this.state.totalBank})</ListGroup.Item>\r\n                </ListGroup>\r\n              </Card>\r\n      </div>)\r\n  }\r\n\r\n  ETH() {\r\n      return (<img src={etherLogo} title=\"Ethereum (ETH)\" alt=\"ETH\" viewport=\"0 0 16 16\" style={{width: 16, height: 16}}/>);\r\n  }\r\n\r\n  exampleCardItemUI(example, i) {\r\n      return (<div key={i}>\r\n\r\n          &nbsp;&nbsp;&nbsp;&nbsp;за {example.views} просмотров:<br/>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;💎 {example.rubys}<br/>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;{this.ETH()} <strong>{example.ether}</strong><br/>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;~&nbsp;<strong>${example.usd.toFixed(4)}</strong><br/><br/>\r\n          </div>);\r\n  }\r\n\r\n  quotesUI() {\r\n      return (<div>\r\n\r\n          <div style={{height: '24px'}}></div>\r\n\r\n          <Row>\r\n            <Col md={{span: 10, offset: 1}}>\r\n            <h3>Калькулятор</h3>\r\n                <p>&nbsp;&nbsp;&nbsp;&nbsp;$1&nbsp;=&nbsp;{this.ETH()} {usdToEther} (💎{usdToEther / this.state.rubyToEther})<br/><br/></p>\r\n            </Col>\r\n          </Row>\r\n\r\n                    <Alert id=\"calculator\">\r\n                                        Награда вычисляется на основе добавленных просмотров за время работы кампании.\r\n                                        Посмотрите реальные расчеты по некоторым конкретным результатам кампаний:\r\n\r\n                                        <UncontrolledTooltip target=\"calculator\">\r\n\r\n                                            У вознаграждений есть коэффициент, меняющийся с ростом просмотров\r\n                                            для предотвращения неэффективного расхода бюджета партнерки (банка).\r\n                                        </UncontrolledTooltip>\r\n                                        </Alert>\r\n\r\n          <div style={{height: '7px'}}></div>\r\n\r\n          <Row>\r\n\r\n              {this.examplesCardColumn(0, 2)}\r\n              {this.examplesCardColumn(2, 4)}\r\n\r\n          </Row>\r\n\r\n            <Row style={{height: '14px'}}></Row>\r\n\r\n          <Row>\r\n              {this.examplesCardColumn(4, 6)}\r\n              {this.examplesCardColumn(6, 8)}\r\n          </Row>\r\n\r\n      </div>)\r\n  }\r\n\r\n  tableUI() {\r\n      return (<Row>\r\n      <Col md={{ span: 10, offset: 1 }}>\r\n      <h2>Последние кампании</h2>\r\n\r\n          <Button variant=\"success\" onClick={this.updateContract.bind(this)} disabled={!this.state.web3Ready}>обновить</Button>\r\n\r\n          <div style={{height: '7px'}}></div>\r\n\r\n              <Table striped bordered hover size=\"sm\">\r\n                  <thead>\r\n                  <tr>\r\n                    <th>Статус</th>\r\n                    <th>Канал</th>\r\n                    <th>Пост</th>\r\n                    <th>Время</th>\r\n                    <th>До / после</th>\r\n                    <th>Награда</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  {this.state.challenges.map((challenge, i) => {\r\n                  // Return the element. Also pass key\r\n                  return (<tr key={i}>\r\n                    <td>{this.statusAndTip(i, challenge.status, challenge.error)}</td>\r\n                    <td>{challenge.group}</td>\r\n                    <td>{challenge.resource}</td>\r\n                    <td><ReactTimeAgo date={new Date(challenge.time*1000)} locale=\"ru\" /></td>\r\n                    <td>\r\n                        {challenge.before} / {challenge.after}\r\n                    </td>\r\n                    <td>\r\n                        {challenge.status > 1\r\n                            ? (<span>💎{challenge.reward} <strong>~ ${(challenge.reward * this.state.rubyToEther * etherToUsd).toFixed(2)}</strong></span>)\r\n                            : null\r\n                        }\r\n                    </td>\r\n                  </tr>)\r\n                  })}\r\n                  </tbody>\r\n                  </Table>\r\n\r\n              { this.state.challenges.length == 0\r\n                  ? (<span>Нет недавних кампаний</span>)\r\n                  : null\r\n              }\r\n\r\n\r\n\r\n              { this.state.challenges.length > 10\r\n                  ? (<Button variant=\"success\" onClick={this.updateContract.bind(this)}>обновить</Button>)\r\n                  : null\r\n              }\r\n      </Col>\r\n      </Row>);\r\n  }\r\n\r\n  sellUI () {\r\n      return (<Row>\r\n      <Col md={6}>\r\n        <Jumbotron>\r\n      <h2>Вывести деньги</h2>\r\n                  <Card>\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item>Установлен курс, 💎 1 = <strong>{this.ETH()} {this.state.rubyToEther}</strong></ListGroup.Item>\r\n                      </ListGroup>\r\n                      <ListGroup.Item>\r\n                        Ваш баланс ~ <strong><Badge variant=\"info\">💎{this.state.myBalanceRuby}</Badge></strong> (${this.state.myBalanceUsd.toFixed(1)})\r\n                      </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      Доступно для вывода ~ <strong><Badge variant=\"success\">💎{this.allowedSell()}</Badge></strong> (${this.allowedSellUsd().toFixed(1)})\r\n                    </ListGroup.Item>\r\n                      </Card>\r\n\r\n\r\n          <div style={{height: '7px'}}></div>\r\n      <InputGroup className=\"mb-3\">\r\n        <InputGroup.Prepend>\r\n        Сколько выводим? &nbsp;&nbsp;\r\n          </InputGroup.Prepend>\r\n        <InputGroup.Prepend>\r\n          <InputGroup.Text>💎</InputGroup.Text>\r\n        </InputGroup.Prepend>\r\n        <FormControl aria-label=\"Вывести деньги (в рубинах)\" value={this.state.inputSell} onChange={evt => this.updateInputSell(evt)} disabled={!this.state.web3Ready} />\r\n        <InputGroup.Append>\r\n          <Button variant=\"primary\" onClick={this.sell.bind(this)} disabled={!this.state.web3Ready}>Sell</Button>\r\n        </InputGroup.Append>\r\n      </InputGroup>\r\n        </Jumbotron>\r\n      </Col>\r\n\r\n\r\n      <Col md={6}>\r\n      <Alert variant=\"secondary\">\r\n          <p>Для создания кампаний потребуется изначально закинуть немного {this.ETH()}  на своей кошелек\r\n          для оплаты расходов на <i>gas</i>.</p>\r\n\r\n          <p>Покупки на $4 должно хватить, что бы множество раз создавать кампании.</p>\r\n\r\n          <p>Купить эфир на кошелек можно с помощью кнопки <strong>Deposit</strong> в окне Metamask.</p>\r\n      </Alert>\r\n      <Alert variant=\"info\">\r\n          <p><i>\r\n              Смарт-контракт не может узнавать, сколько просмотров приросло к посту внутри Telegram, сам. </i></p>\r\n\r\n          <p>\r\n          Потому в облаке работает робот, который предоставляет смарт-контракту эти самые данные по просмотрам,\r\n          когда вы запускаете кампании.\r\n          </p>\r\n      </Alert>\r\n\r\n\r\n      </Col>\r\n\r\n      </Row>);\r\n  }\r\n\r\n  isCEO() {\r\n      return this.state.user == this.state.ceo && this.state.ceo.length > 10;\r\n  }\r\n\r\n  settings(key, value) {\r\n      this.state.settings[key] = value;\r\n      this.setState({\r\n          settings: this.state.settings,\r\n      });\r\n  }\r\n\r\n  addRule() {\r\n      let rules = this.state.rules;\r\n      rules.unshift({\r\n          threshold: \"\",\r\n          rewardForPoint: \"\",\r\n          group: \"\",\r\n      });\r\n      this.setState({\r\n          rules: rules,\r\n      });\r\n  }\r\n\r\n  async removeRule(index) {\r\n      let rules = this.state.rules;\r\n      rules.splice(index, 1);\r\n      this.setState({\r\n          rules: rules,\r\n      });\r\n  }\r\n\r\n  changeRule(index, key, val) {\r\n      let rules = this.state.rules;\r\n      rules[index][key] = val;\r\n      this.setState({\r\n          rules: rules,\r\n      });\r\n  }\r\n\r\n  ceoUI() {\r\n      return (<div>\r\n          <Row style={{height: '84px'}}></Row>\r\n\r\n          <Row>\r\n              <Col md={6}>\r\n                <h3>Reward Rules <span onClick={this.addRule.bind(this)}>➕</span></h3>\r\n\r\n                <Table striped bordered hover size=\"sm\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                      <th>Points Above</th>\r\n                      <th>Reward for point</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {this.state.rules.map((rule, i) => {\r\n                    return (<tr key={i}>\r\n                        <td>\r\n                                            <span onClick={() => this.removeRule(i)} title=\"Убрать строку правил\">➖</span>\r\n                            </td>\r\n                      <td>\r\n                          <FormControl\r\n                              placeholder=\"threshold\"\r\n                              aria-label=\"threshold\"\r\n                              value={rule.threshold}\r\n                              onChange={evt => this.changeRule(i, 'threshold', evt.target.value)}\r\n                            />\r\n                        </td>\r\n                      <td>\r\n                      <FormControl\r\n                          placeholder=\"rewardForPoint\"\r\n                          aria-label=\"rewardForPoint\"\r\n                          value={rule.rewardForPoint}\r\n                          onChange={evt => this.changeRule(i, 'rewardForPoint', evt.target.value)}\r\n                        />\r\n                      </td>\r\n                    </tr>)\r\n                    })}\r\n                    </tbody>\r\n                    </Table>\r\n\r\n\r\n                        <Button variant=\"danger\" id=\"basic-addon2\" onClick={this.ceoUpdateRules.bind(this)}>Save rules</Button>\r\n\r\n              </Col>\r\n\r\n              <Col md={6}>\r\n                    <h3>Bot Authorization</h3>\r\n\r\n\r\n                    <InputGroup\r\n                    >\r\n\r\n                    <InputGroup.Checkbox\r\n                        id=\"bot-enabled\"\r\n                        aria-label=\"Authorize\"\r\n                        checked={this.state.inputBotAuth}\r\n                        onChange={evt => this.setState({inputBotAuth: evt.target.checked})}\r\n                     />\r\n\r\n                    <FormControl\r\n                        id=\"bot-addr\"\r\n                        placeholder=\"bot address\"\r\n                        aria-label=\"bot address\"\r\n                        value={this.state.inputBot}\r\n                        onChange={evt => this.setState({inputBot: evt.target.value})}\r\n                      />\r\n                      </InputGroup>\r\n\r\n                                            <p></p>\r\n                                                                  <p></p>\r\n\r\n                      <Button variant=\"danger\" id=\"basic-addon2\" onClick={this.ceoSetBot.bind(this)}>Change bot authorization</Button>\r\n\r\n                    </Col>\r\n\r\n\r\n          </Row>\r\n\r\n          <Row style={{height: '44px'}}></Row>\r\n\r\n        <Row>\r\n\r\n\r\n        <Col md={10}>\r\n          <h3>Settings</h3>\r\n\r\n          <Table striped bordered hover size=\"sm\">\r\n              <thead>\r\n              <tr>\r\n                <th>Duration Minutes</th>\r\n                <th>Min Bank For Challenge</th>\r\n                <th>Wei Per Token</th>\r\n                <th>Timeout Minutes</th>\r\n                <th>Service Costs Enabled</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr>\r\n              <td>\r\n                  <FormControl\r\n                      value={this.state.settings.ceoDurationMinutes}\r\n                      onChange={evt => this.settings('ceoDurationMinutes', evt.target.value)}\r\n                    />\r\n              </td>\r\n              <td>\r\n                  <FormControl\r\n                      value={this.state.settings.ceoMinBankForChallenge}\r\n                      onChange={evt => this.settings('ceoMinBankForChallenge', evt.target.value)}\r\n                    />\r\n              </td>\r\n              <td>\r\n                  <FormControl\r\n                      value={this.state.settings.ceoWeiPerToken}\r\n                      onChange={evt => this.settings('ceoWeiPerToken', evt.target.value)}\r\n                    />\r\n              </td>\r\n              <td>\r\n                  <FormControl\r\n                      value={this.state.settings.ceoTimeoutMinutes}\r\n                      onChange={evt => this.settings('ceoTimeoutMinutes', evt.target.value)}\r\n                    />\r\n              </td>\r\n              <td>\r\n                  <FormControl\r\n                      placeholder=\"1 /0\"\r\n                      aria-label=\"1 /0\"\r\n                      maxLength={1}\r\n                      value={this.state.settings.ceoServiceCostsOn}\r\n                      onChange={evt => this.settings('ceoServiceCostsOn', evt.target.value)}\r\n                    />\r\n              </td>\r\n              </tr>\r\n              </tbody>\r\n              </Table>\r\n\r\n                  <Button variant=\"danger\" id=\"basic-addon2\" onClick={this.ceoUpdate.bind(this)}>Update settings</Button>\r\n\r\n\r\n        </Col>\r\n        </Row>\r\n\r\n                          <Row style={{height: '84px'}}></Row>\r\n      </div>);\r\n  }\r\n\r\n  async ceoUpdateRules() {\r\n      let payload = [];\r\n      for(var i = 0; i < this.state.rules.length; i++) {\r\n          let r = this.state.rules[i];\r\n          payload.push(r.threshold);\r\n          payload.push(r.rewardForPoint);\r\n      }\r\n      let ctr = await contract();\r\n      let t = ctr.methods.ceoUpdateRules(payload);\r\n      await this.transact(ctr, t);\r\n  }\r\n\r\n  async ceoSetBot() {\r\n      console.log(JSON.stringify({\r\n          ceoAuthBots: {\r\n              auth: this.state.inputBotAuth,\r\n              bots: [this.state.inputBot],\r\n          }\r\n      }));\r\n      let ctr = await contract();\r\n      let t = ctr.methods.ceoAuthBots(this.state.inputBotAuth, [this.state.inputBot]);\r\n      await this.transact(ctr, t);\r\n  }\r\n\r\n  async transact(ctr, setData) {\r\n      var gasPrice = web3.eth.gasPrice;\r\n\r\n      await setData\r\n          .estimateGas(\r\n              {\r\n                  from: this.state.ceo,\r\n                  to: contract().address,\r\n                  gasPrice: gasPrice\r\n              }, async (error, estimatedGas) => {\r\n\r\n                  console.log('gas Price: ' + gasPrice);\r\n                  console.log('Estimated Transaction gas: ' + estimatedGas);\r\n\r\n                  console.log ('sending Transaction to the contract');\r\n\r\n                  const transaction = {\r\n                    from: this.state.ceo,\r\n                    to: ctr.address,\r\n                    value: '0x00',\r\n                    gas: estimatedGas + 1,\r\n                    gasPrice: gasPrice + 1,\r\n                  }\r\n\r\n\r\n                  await setData.send( transaction, function(err, txHash) {\r\n                    if (err != null) {\r\n                           console.error(\"Error while sending transaction: \" + err);\r\n                         }\r\n                         else{\r\n                           console.log(\"Transaction Sent here's you  txHash: \" + txHash);\r\n                         }\r\n                  });\r\n\r\n      });\r\n  }\r\n\r\n  async ceoUpdate() {\r\n    let minBankForChallenge = this.state.settings.ceoMinBankForChallenge;\r\n    let duration = this.state.settings.ceoDurationMinutes * 60;\r\n    let weiPerToken = this.state.settings.ceoWeiPerToken;\r\n    let requestTimeout = this.state.settings.ceoTimeoutMinutes * 60;\r\n    let serviceCostsEnabled = (this.state.settings.ceoServiceCostsOn == \"1\");\r\n\r\n    let ctr = await contract();\r\n    let t = ctr.methods.ceoUpdate(minBankForChallenge, duration, weiPerToken, requestTimeout, serviceCostsEnabled);\r\n    await this.transact(ctr, t);\r\n  }\r\n\r\n  footerUI() {\r\n      return (<Row style={{fontSize: '14px'}}>\r\n\r\n      <Col md={6}>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>Код контракта опубликован <a href=\"https://github.com/crackhd/tg_partner_contract\">на Github</a></ListGroup.Item>\r\n                <ListGroup.Item>Код бота опубликован <a href=\"https://github.com/crackhd/tg_partner\">на Github</a></ListGroup.Item>\r\n                  <ListGroup.Item>Код этой странички опубликован <a href=\"https://github.com/crackhd/tg_partner_web\">на Github</a></ListGroup.Item>\r\n              </ListGroup>\r\n      </Col>\r\n\r\n          <Col md={6}>\r\n          <ul>\r\n          <li>Если вы создали кампанию и ничего не происходит, вы сможете получить компенсацию за потраченный с вашей стороны газ. Для этого можно отправить транзакцию Sell с суммой 0</li>\r\n          <li>один пользователь одновременно может выполнять лишь одну кампанию до ее завершения (либо до <code>Sell(0)</code>, если кампания повисла)</li>\r\n          </ul>\r\n          </Col>\r\n      </Row>);\r\n  }\r\n\r\n  render() {\r\n    return (<div className=\"App container\">\r\n    <Row style={{height: '58px'}}></Row>\r\n\r\n    <Row>\r\n      <Col md={6}>\r\n        <Jumbotron>\r\n          <h1>Партнерка</h1>\r\n          <p></p>\r\n          <p></p>\r\n          <p>\r\n            Здесь можно добавить свою <span className=\"dotted-ul\" id=\"campaigns\">рекламную кампанию</span> для автоматического\r\n            получения вознаграждения.\r\n          </p>\r\n\r\n\r\n          <UncontrolledTooltip target=\"campaigns\">\r\n            Вы можете получить вознаграждение в криптовалюте за <strong>просмотры</strong> к публикуемым постам.\r\n            Для этого, перед тем, как лить свои просмотры, нужно создать с помощью этого контракта \"челлендж\" к посту, указав URL.\r\n          </UncontrolledTooltip>\r\n\r\n          <div>\r\n              <p style={{color: 'gray'}}>\r\n                1⃣ Открываем <a href=\"https://crackhd.github.com/tg_partner_web\">страницу</a> смарт-контракта (<strong>готово!</strong>)\r\n              </p><p>\r\n                2⃣ Копируем ссылку на какой-нибудь пост в Telegram, которому мы хотим долить просмотров\r\n              </p><p>\r\n                3⃣ Вставляем ссылку в поле URL и жмем <Badge variant=\"primary\">New Challenge</Badge>\r\n              </p><p>\r\n                4⃣ В течении <strong>{this.state.durationMinutes}</strong> последующих минут просмотры поста считаются контрактом вашими, фиксируется вознаграждение в виде 💎\r\n              </p><p>\r\n                5⃣ Меняем 💎 на {this.ETH()}. Для этого на странице контракта есть кнопка <Badge variant=\"primary\">Sell</Badge>\r\n              </p>\r\n          </div>\r\n          <p style={{height:16}}></p>\r\n          <p>\r\n          <a href=\"https://academy.binance.com/ru/blockchain/what-are-smart-contracts\" target=\"_blank\">\r\n            <Button variant=\"info\">Как это работает?</Button>\r\n          </a>\r\n          </p>\r\n        </Jumbotron>\r\n        </Col>\r\n\r\n    <Col md={6}>\r\n\r\n        {this.tooltipsUI()}\r\n\r\n        { this.state.web3Ready\r\n            ? this.newChallengeUI()\r\n            : (<div>\r\n                <p><Button variant=\"success\" onClick={this.initWeb3.bind(this)}>Начать работу</Button></p>\r\n              </div>) }\r\n\r\n          { this.state.web3Ready\r\n              ? this.statusUI()\r\n              : null\r\n          }\r\n\r\n      </Col>\r\n\r\n    </Row>\r\n\r\n    { this.state.web3Ready\r\n        ? (<Row style={{height: '44px'}}></Row>)\r\n        : null\r\n    }\r\n\r\n    <Row style={{height: '54px'}}></Row>\r\n\r\n\r\n    { this.state.web3Ready\r\n        ? this.tableUI()\r\n        : null\r\n    }\r\n\r\n    <Row style={{height: '84px'}}></Row>\r\n\r\n    {\r\n        this.state.web3Ready\r\n            ? this.sellUI()\r\n            : null\r\n    }\r\n\r\n    <Row style={{height: '64px'}}></Row>\r\n\r\n    {\r\n        this.state.web3Ready\r\n            ? this.quotesUI()\r\n            : null\r\n    }\r\n\r\n    <Row style={{height: '84px'}}></Row>\r\n\r\n    {\r\n        this.state.web3Ready\r\n            ? this.footerUI()\r\n            : null\r\n    }\r\n\r\n    {\r\n        this.state.web3Ready && this.isCEO()\r\n            ? this.ceoUI()\r\n            : null\r\n    }\r\n\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}